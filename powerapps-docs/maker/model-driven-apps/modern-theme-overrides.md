---
title: "Use modern themes | MicrosoftDocs"
description: Learn how to change the colors of apps including the app header in model-driven apps with the modern look.
ms.custom: ""
ms.date: 12/23/2024
ms.reviewer: "matp"
ms.suite: ""
ms.tgt_pltfrm: ""
ms.topic: "how-to"
author: "jasongre"
ms.subservice: mda-maker
ms.author: "jasongre"
search.audienceType: 
  - maker
contributors:
- adrianorth 
---

# Use modern themes

Users of model-driven apps with the [modern, refreshed look for model-driven apps](../../user/modern-fluent-design.md) enabled experience updated styling aligned to the Microsoft Fluent 2 design system. Because this modern refreshed look comes with a new theming system, [classic theming](create-themes-organization-branding.md) isn't honored; however, makers can modify the colors used by the app to help align with their organizational branding for users who have enabled the modern, refreshed look. In this article, you learn about the styling overrides available with the modern, refreshed look and how to implement them for your organization.

> [!NOTE]
> - Modern themes currently support providing a custom theme for the entire app and overriding the app header colors. Other customizations like customizing the business process flow control aren't available.
> - For modern themes to work, the model-driven app must be using the **New look**. More information: [Modern, refreshed look for model-driven apps](../../user/modern-fluent-design.md)

## Create a custom app theme (preview) 

With the [modern, refreshed look enabled](../../user/modern-fluent-design.md) in the app, makers can create a custom theme that helps align to their organizational branding. To accomplish this, you encapsulate the desired theme information into an XML resource, use an app setting to point to this web resource, and then verify the new modern theme matches your expectations.  

### Overview of the custom theme XML resource 

The first step to creating a custom modern theme is to create an XML file with your desired theme parameters, with one or more of the following attributes defined inside a `CustomTheme` tag.

- `BasePaletteColor` – The seed color (HEX code) used as a basis to generate a 16-slot color palette for the theme. 
- `LockPrimary` – A boolean that determines how the selected seed color is used to generate the 16-slot color palette.  
    -  True (Default): The palette is optimized for accessibility, but doesn't guarantee the seed color will appear in any slot of the generated palette. This is the default setting. Use the [Fluent theme generator](https://react.fluentui.dev/?path=/docs/theme-theme-designer--docs) to preview the generated palette based on your selections for basePaletteColor, vibrancy, and hueTorsion.  
    - False: The seed color is placed in primary (middle) slot of the palette. The remaining colors are generated by making the colors incrementally lighter on one side and darker on the other side. The generated palette might not meet contrast ratio accessibility requirements.
- `Font` – The font for your custom theme. Note that the font being rendered by the custom theme will be dependent on the browser and target machine’s ability to show that font. 
- `Vibrancy` – An optional parameter that impacts the muteness or brightness of the palette, especially the lighter colors. The allowed values are between -100 and 100, with a default value of 0. This option is only applicable when lockPrimary="true". 
- `HueTorsion` – An optional parameter that impacts the tint, shade, or tone of the palette, especially the lighter colors. The allowed values are between -100 and 100, with a default value of 0. This option is only applicable when lockPrimary="true".

#### Override the palette
Overriding individual slots in the theme palette provides the creator with full control over the slot colors, which is particularly useful when additional modifications are required beyond the standard theme parameters mentioned above. To override a specific slot, simply assign a value to the desired slot by its name. For instance, you can specify the HEX code for darker70, primary, or lighter10 to tailor the appearance precisely to your preference. It’s important to note that setting values for all 16 slots will completely override all the palette options described in the previous section, allowing for a highly customized and unique color scheme.
The slot names for the palette from darkest to lightest are: darker70, darker60, …, darker10, primary, lighter10, lighter20, …, lighter80. 

<image of names with color slots>

When overriding individual slots in the palette, you may refer to this general guidance on how each slot is utilized in the native Fluent controls. Note that deviations may be present in how individual controls inside Power Apps utilize the modern theme palette.

| Slot | Description |
|---------|----------|
| Darker70 | **Primary text, key icons, and high-emphasis borders.** <br><br>Darker70 is the darkest in the palette and provides maximum contrast for primary text, important icons, and high-emphasis borders. It is frequently used in headers, key labels, and elements requiring strong focus. This color ensures critical content remains legible and visually distinct, enhancing accessibility and user clarity in Fluent designs.| 
| Darker60 | **Secondary headings and selected states.** <br><br> Darker60 provides strong contrast while being slightly lighter than Darker70. It’s used for secondary headings, selected states, and visible borders that complement primary elements. This color balances emphasis and subtlety, appearing in elements like selected text highlights, secondary button text, and focused states around interactive components. |
| Darker50 | **Placeholder text, secondary icons, and inactive elements.** <br><br> Darker50 is lighter than Darker60 and is primarily applied to placeholder text, secondary icons, and inactive elements. It supports visual hierarchy by clearly differentiating less emphasized elements from primary content. Typical uses include text field hints, inactive radio buttons, and dimmed icons for features not currently available. |
| Darker40 | **Pressed states.** <br><br> Darker40 is used for pressed states in interactive elements such as buttons, list items, or menu options. It provides a darker, more pronounced feedback when users engage with a control, ensuring clarity about active interactions. This color is also used for elements like pressed backgrounds in dropdown menus or for accentuating highly interactive components where the user’s focus is required. |
| Darker30 | **Hover states of secondary elements and lightly emphasized content.** <br><br> Darker30 is designed for hover states on secondary elements, such as inactive menu items or lightly emphasized content like subtle dividers. |
| Darker20 | **Borders and tertiary button hover states.** <br><br> Darker20 provides subtle definition for borders and is also used in tertiary button hover states. Its contrast ensures secondary and tertiary interactive elements remain clear without dominating the UI. This color often appears in list item dividers and other light boundary markers. |
| Darker10 | **Hover states for primary buttons and interactive elements.** <br><br> Darker10 is applied to hover states for primary buttons and other interactive components, providing visual feedback to indicate interactivity. It ensures these elements stand out momentarily as users navigate, enhancing clarity and engagement. |
| PrimaryColor | **Backgrounds of active buttons and selected states.** <br><br> PrimaryColor is used for backgrounds in active button states, such as primary buttons, as well as for selected states in checkboxes, radio buttons, and dropdowns. This color ensures active elements are easily distinguishable while maintaining a cohesive visual design. |
| Lighter10 | **Hover backgrounds in buttons, lists, and dropdowns.** <br><br> Lighter10 serves as the hover background for interactive elements, such as buttons, list items, and dropdown menus. Its slightly lighter tone provides subtle visual feedback, enhancing interactivity without overwhelming the design. |
| Lighter20 | **Backgrounds of text input fields.** <br><br> Lighter20 is used for backgrounds of editable input fields in their default states. It ensures a neutral yet modern appearance, supporting text and icon clarity while seamlessly integrating into Fluent’s overall design language. |
| Lighter30 | **Backgrounds of secondary buttons and inactive input fields.** <br><br> Lighter30 is applied to the backgrounds of secondary buttons and inactive input fields, providing subtle contrast to differentiate these elements from primary or active states. It’s also used for disabled elements, ensuring visual consistency across less interactive UI components. |
| Lighter40 | **Tertiary button backgrounds and subtle surfaces.** <br><br> Lighter40 is used for tertiary button backgrounds and other subtle UI surfaces, such as light panels or cards. It provides understated contrast to support a layered, visually distinct hierarchy in Fluent designs. |
| Lighter50 | **Light borders and inactive outlines.** <br><br> Lighter50 is used for light borders and inactive outlines on elements such as cards, dropdowns, and inactive input fields. Its subtle definition enhances structural clarity while maintaining a clean, modern aesthetic. |
| Lighter60 | **Hover states for lighter interactive elements.** <br><br> Lighter60 is used for hover states on lighter interactive elements, such as dropdown items, inactive list entries, or tertiary buttons. It provides subtle feedback, ensuring users can identify interactivity without disrupting the overall design. |
| Lighter70 | **Backgrounds of non-editable fields and subtle focus states.** <br><br> Lighter70 is applied to backgrounds of non-editable fields and subtle focus states, helping differentiate these elements from editable or interactive ones. It provides a neutral, understated treatment that preserves the design’s clarity and hierarchy. |
| Lighter80 | **Lightest backgrounds in panels, cards, and overlays.** <br><br> Lighter80 is the lightest shade in the palette, used for backgrounds in panels, cards, and overlays. It provides a neutral canvas that highlights content while minimizing visual distractions. This color is ideal for creating an open, spacious feel in UI designs. |


#### Example XML for a custom theme
As an example, this XML specifies a custom theme that is green with a different font.  
```xml
<CustomTheme 
    basePaletteColor="#00FF00"
    vibrancy="0"
    hueTorsion="-50"
    font="'GreatVibes', cursive"
/>
```

This XML specifies a custom theme using the alternate palette generation algorithm with an override for a single slot.  
```xml
<CustomTheme 
    basePaletteColor="#00FF00"
    lockPrimary="false"
    font="'GreatVibes', cursive"

    lighter70="#FFFFFF"
/>
```

### Modify the app header colors
Makers can customize the styling of the app header to deviate from the app theme. This can be done by extending the XML created for the custom modern theme with one or more of the following attributes defined inside an `AppHeaderColors` tag.

- `Background` – The background color of the app header. This element must be defined for any changes to take effect.
- `Foreground` – The text color of the app header. If this isn't specified, the system attempts to calculate an appropriate color that has sufficient contrast to the provided background color.
- `BackgroundHover` – The background color of buttons on the app header when they're hovered over. If no value is specified, the system calculates a color based on the background color.
- `ForegroundHover` – The text color of buttons on the app header when they're hovered over. If no value is specified, the system attempts to calculate an appropriate color that has sufficient contrast to the backgroundHover color.
- `BackgroundPressed` – The background color of buttons on the app header when they're pressed. The defaulting logic is the same as backgroundHover. 
- `ForegroundPressed` – The text color of buttons on the app header when they're pressed. The defaulting logic is the same as foregroundHover.
- `BackgroundSelected` – The background color of buttons on the app header when they're selected. The defaulting logic is the same as backgroundHover.
- `ForegroundSelected` – The text color of buttons on the app header when they're selected. The defaulting logic is the same as backgroundHover.

#### Example XML for a modern theme

As an example, this XML extends the green custom theme with a black app header. For optimal usability, we recommend specifying different color values for each interaction state.

```xml
<CustomTheme
    basePaletteColor="#00FF00"
    vibrancy="0"
    hueTorsion="-50"
    font="'GreatVibes', cursive"
>  
  <AppHeaderColors
    background="#000000" 
    foreground="#FFFFFF" 
    backgroundHover="#313131" 
    foregroundHover="#FFFFFF"
    backgroundPressed="#494949"
    foregroundPressed="#FFFFFF"
    backgroundSelected="#717171" 
    foregroundSelected="#FFFFFF"  
  />
</CustomTheme>
```

> [!NOTE]
> These settings will cause any colors specified in the **Override app header color** setting to be ignored.

### Create the web resource

1. Using a text or XML editor, save the XML that is used to create the web resource. [Example XML for a modern theme](#example-xml-for-a-modern-theme)
1. Sign into [Power Apps](https://make.powerapps.com/).
1. Select **Solutions** on the left navigation pane, and then create a **New solution**.
1. Select **New** > **More** > **Web resource**.
1. In the New web resource property pane, enter the following values:
   - **Display name**: Enter a display name, such as *Green custom theme*.
   - **Name**. Enter the unique name for the web resource. 
   - Type: **Data (XML)**
1. Select **Choose file**, browse to, and then select the XML file you created earlier with the theme.
1. Select **Save**. You publish this customization with the steps in the next section.

### Apply the custom theme to apps in your environment

After you select your colors and create the web resource, follow these steps to enable this app header styling for all the apps in your environment that have the **New look** enabled.

1. In the solution you used to [create the web resource](#create-the-web-resource), select **Add existing** > **More** > **Setting**.
1. Type *Override* in the **Search** box, select **Custom theme definition**, select **Next**, and then select **Add**.
1. In the solution, select **Custom theme definition**, and then select **Edit** on the command bar.
1. On the right **Edit Custom theme definition** properties pane, select **Setting environment value** and enter the unique name of your web resource you created earlier. Make sure to add the publisher prefix for the web resource and don't include quotes. For example, the name might appear as *contoso_green-custom-theme* as in this example.
   :::image type="content" source="media/environment-setting-theme.png" alt-text="Environment setting for a theme with web resource unique name contoso_green-custom-theme." lightbox="media/environment-setting-theme.png":::
1. Select **Save**.
1. Select **Publish all customizations** on the command bar. (This command appears when no components in the solution are selected).

With the [example colors](#example-xml-for-a-modern-theme), the app header should look like this when you play the app (you might need to refresh the browser tab).  
:::image type="content" source="media/greenappheader-oct2023.png" alt-text="Green app header in a model-driven app" lightbox="media/greenappheader-oct2023.png":::

### Verifying new app header colors

After publishing your custom theme, you'll want to validate the application of the theme in the app to ensure everything appears as you expect. 




## Modify the app header colors only
Makers can choose to only customize the styling of the app header to deviate from the default app theme. This can be done by 

1.  Creating an XML file with your various color selections, with one or more of the attributes from [app header color overrides section](#modify-the-app-header-colors) defined inside an `AppHeaderColors` tag.
2.  Creating a web resource using the same process described for [custom themes](#create-the-web-resource), but be sure to give the XML resource an appropriate descriptive display name (e.g. *Green app header XML*).
3.  Applying custom app header colors to apps in your environment by assigning this web resource to the environment or app in the **Override app header color** setting. Follow the steps from [Applying custom themes to your environment](#apply-the-custom-theme-to-apps-in-your-environment) but use the **Override app header color** setting instead.
    > [!NOTE]
    > Any configuration defined in the **Override app header color** setting will be ignored if the **Custom theme definition** setting has been defined.  
4. Verifying your custom app header visuals, including all button states, to ensure everything appears as you expect and there are sufficient contrast ratios for accessibility. You should verify the following color choices:
    - The desired colors are shown for the app header at rest and for each button interaction state.
    - There's a minimum of a 4.5:1 contrast ratio between foreground and background colors for the rest state and each button interaction state. 

### Example XML for app header color override

As an example, this XML specifies a green background color for the app header with white text, with darker background colors for the various button interaction states. For optimal usability, we recommend specifying different color values for each state.

```xml
<AppHeaderColors 
  background="#12783F"
  foreground="#FFFFFF" 
  backgroundHover="#165A31" 
  foregroundHover="#FFFFFF"
  backgroundPressed="#0F1C12"
  foregroundPressed="#FFFFFF"
  backgroundSelected="#153D23" 
  foregroundSelected="#FFFFFF"
/>
```

With this configuration, the app header should look like the following when you play the app (you might need to refresh the browser tab).  
:::image type="content" source="media/greenappheader-oct2023.png" alt-text="Green app header in a model-driven app" lightbox="media/greenappheader-oct2023.png":::

## See also

[Modern refreshed look](../../user/modern-fluent-design.md)
[!INCLUDE[footer-include](../../includes/footer-banner.md)]
