---
title: Code components for canvas apps  | Microsoft Docs
description: Create code components for canvas apps
keywords:
ms.author: nabuthuk
author: Nkrb
manager: kvivek
ms.date: 11/26/2019
ms.service: "powerapps"
ms.suite: ""
ms.tgt_pltfrm: ""
ms.topic: "article"
ms.assetid: 5d100dc3-bd82-4b45-964c-d90eaebc0735
---

# Code components for canvas apps

<!--[!IMPORTANT]
> This feature is still experimental and disabled by default. For more information, see [Experimental and preview features](../../maker/canvas-apps/working-with-experimental.md).-->

Power Apps component framework enables app makers to create code components to use in an app or across the apps. More information: [Power Apps component framework overview](overview.md) 

In this public preview, PowerApps component framework enables app makers to create code components, debug, import, and add them to canvas apps using the PowerApps CLI tooling. Only specific APIs are supported in this public preview. We recommend you to check each API to determine whether it supports canvas apps. 

> [!WARNING]
> Code components contain code that may not be generated by Microsoft and can potentially access security tokens and data. When adding code components to an app, make sure that the code component solutions are from a trusted source.

## Prerequisites

1. A Common Data Service license is required. More information: [Power Apps component framework licensing](#licensing)
2. System Administrator privileges are required to enable the Power Apps component feature in the environment.

## Enable Power Apps component framework feature

To add code components to an app, you need to enable the Power Apps component framework feature in each environment where you want to use them. To enable an environment to use code components inside its apps:

1. Sign in to [Power Apps](https://powerapps.microsoft.com/).

2. Select the **Settings** icon and then select **Admin Center**.
    
    ![Settings and Admin Center](media/select-admin-center-from-settings.png "Settings and Admin Center") 

3. Select the **Environments** tab in the left pane and select the environment where you want to enable this feature, select the ellipsis (**...**), and then select **Settings**.

4. Under the **Products** tab, select **Features**.

   ![Enable Power Apps component framework](media/enable-pcf-feature.png "Enable Power Apps component framework")

5. From the list of available features, set the switch to **On** under **Power Apps component framework for canvas apps** and click **Save**.

6. Now, open the app where you want to add the code component and navigate to **File** > **Settings** and select **Advanced settings**.

   ![Enable components for Power Apps component framework](media/enable-components-for-pcf.png "Enable components for Power Apps component framework")
   
7. Turn the **Components** switch to **On** under the **Experimental feature** section.

## Implementing code components

After you enable the Power Apps component framework feature in your environment, you can start implementing the logic for code components.

 The [Create your first code component](implementing-controls-using-typescript.md) topic demonstrates the step-by-step process to create code components.

## Add components to a canvas app

To add code components to a canvas app:

1. Navigate to Power Apps Studio.
2. Create a new canvas app or edit an existing app to which you want to add the code component.

   > [!IMPORTANT]
   > Make sure the solution zip file is already [imported](https://docs.microsoft.com/powerapps/maker/common-data-service/import-update-export-solutions) into Common Data Service before you proceed to the next step.

3. Go to **Insert** > **Custom** > **Import component**. 
 
    ![Insert components](media/insert-components-import.png "Insert components")

4. Select the **Code** tab, add a component from the list, and then select **Import**. 

    ![Import sample component](media/import-component-add-sample-component.png "Import sample component")

5. Click the **+** icon on the left pane and expand the code components tab to add the sample component.

   ![Add sample component](media/add-sample-component-from-list.png "Add sample component")

## Delete a code component 

To delete a code component from a canvas app, select the code component that you want to delete and then select the **Delete** button on the menu. When the code component is deleted from the app, all the code component elements get deleted from the app and the app package. 

## Update existing code components

Whenever you update the code components and want to see the changes in runtime, you need to bump the `version` attribute in the manifest file. It is recommended to always bump  the version of the component whenever you make changes.

> [!NOTE]
> Existing code components are updated only when the app is closed or reopened in Power Apps Studio. When you reopen the app, it asks you to update the code components. Simply deleting the code components or adding the code component back into the app doesn't update the components.

## Licensing

With the Power Apps component framework going GA on canvas apps, we will categorize code components into the following: 

- **Premium components**: Code components that rely on external services to function via component implementation code are known as premium components. 
- **Non-premium components**: All other basic components which work directly against the data provided by the app are known as non-premium components.

App makers need to have **Power Apps license** to import and add code components to canvas app from Common Data Service. End users with no **Power Apps license** will be able to use the apps containing the non-premium code components. However inline with the custom connectors, if there is a premium code component accessing external service, user will require a Power Apps license. 

> [!NOTE]
> Licensing requirement for premium code components applies to end users only on canvas apps. Model-driven apps users can access all code components as they already have Power Apps license.

In other words, end users need **Office 365** license to use non-premium code components in canvas apps. To use premium code component, end users need to have a Power Apps license.

### How to identity a component as premium component?

We will introduce the metadata manifest flags for the developers to characterize their component category so that the app makersâ€¯and end users are notified and are aware of the requirements as they use these in the app.

## See also

[Power Apps component framework overview](overview.md)<br/>
[Create your first code component](implementing-controls-using-typescript.md)

