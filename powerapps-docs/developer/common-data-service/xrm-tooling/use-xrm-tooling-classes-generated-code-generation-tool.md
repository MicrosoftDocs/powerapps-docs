---
title: "Use XRM tooling with classes generated using the code-generation tool (Common Data Service for Apps)| Microsoft Docs"
description: "CrmServiceClient class can be used to set up your entity and data context classes by using the code-generation tool. The sample shows how to create a connection to CDS for Apps by using an instance of this class, and then set the value of the OrganizationServiceProxy object to the CrmServiceClient.OrganizationServiceProxy property"
ms.custom: ""
ms.date: 10/31/2018
ms.reviewer: ""
ms.service: "crm-online"
ms.suite: ""
ms.tgt_pltfrm: ""
ms.topic: "article"
applies_to: 
  - "Dynamics 365 (online)"
ms.assetid: 7c81c1e5-2229-4a15-8374-6ee9456d18a9
caps.latest.revision: 19
author: "MattB-msft"
ms.author: "kvivek"
manager: "kvivek"
search.audienceType: 
  - developer
search.app: 
  - PowerApps
  - D365CE
---
# Use XRM tooling with classes generated using the code-generation tool

<!-- TODO:
The <xref:Microsoft.Xrm.Tooling.Connector> assembly doesn’t directly provide interfaces for the entity and data context classes generated using the code-generation tool. However, you can use the CDS for Apps connection created by the <xref:Microsoft.Xrm.Tooling.Connector.CrmServiceClient> class to set up your entity and data context classes by using the code-generation tool. More information: [Create Early Bound Entity Classes with the Code Generation Tool (CrmSvcUtil.exe)](../org-service/create-early-bound-entity-classes-code-generation-tool.md) -->
  
 To use the CDS for Apps connection created by the <xref:Microsoft.Xrm.Tooling.Connector.CrmServiceClient> class, create a connection to CDS for Apps by using an instance of this class, and then set the value of the <xref:Microsoft.Xrm.Sdk.Client.OrganizationServiceProxy> object to the <xref:Microsoft.Xrm.Tooling.Connector.CrmServiceClient>.<xref:Microsoft.Xrm.Tooling.Connector.CrmServiceClient.OrganizationServiceProxy> property.  
  
```csharp  
CrmServiceClient crmSvc = new CrmServiceClient(new System.Net.NetworkCredential("<UserName>", "<Password>",“<Domain>”),"<Server>", "<Port>", "<OrgName>");  
  
// Verify that you are connected.  
if (crmSvc != null && crmSvc.IsReady)  
{  
    //Display the CRM version number and org name that you are connected to  
    Console.WriteLine("Connected to CRM! (Version: {0}; Org: {1}",   
    crmSvc.ConnectedOrgVersion, crmSvc.ConnectedOrgUniqueName);  
  
    Microsoft.Xrm.Sdk.Client.OrganizationServiceProxy prox = crmSvc.OrganizationServiceProxy;   
}  
else  
{  
    // Display the last error.  
    Console.WriteLine("Error occurred: {0}", crmSvc.LastCrmError);  
  
    // Display the last exception message if any.  
    Console.WriteLine(crmSvc.LastCrmException.Message);  
    Console.WriteLine(crmSvc.LastCrmException.Source);  
    Console.WriteLine(crmSvc.LastCrmException.StackTrace);  
  
    return;  
}  
  
```  
  
> [!NOTE]
>  The <xref:Microsoft.Xrm.Sdk.Client.OrganizationServiceProxy> class isn’t thread safe. While working with the entity and data context classes generated by using the code-generation tool or using LINQ to retrieve data, you might consider creating a locking scheme in your code if it runs in a multithreaded environment.  
  
### See also  

<!-- TODO:
[Use the IOrganizationService Web Service to Read and Write Data or Metadata](../org-service/use-organization-service-read-write-data-metadata.md)<br /> -->
[Build windows client applications using the XRM tools](build-windows-client-applications-xrm-tools.md)
